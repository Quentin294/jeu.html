<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Menu avec Roue de la chance</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #222 60%, #3a6ee8 100%);
      color: #fff;
      min-height: 100vh;
      overflow: hidden;
    }
    .menu-bar {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 40px;
      z-index: 2;
    }
    .menu-btn {
      background: rgba(30,30,30,0.8);
      border: none;
      color: #fff;
      padding: 14px 28px;
      border-radius: 12px;
      font-size: 18px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .menu-btn.active, .menu-btn:hover {
      background: #3a6ee8;
    }
    .left-panel {
      position: absolute;
      left: 30px;
      top: 120px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      z-index: 2;
    }
    .left-item {
      background: rgba(40,40,40,0.85);
      border-radius: 10px;
      padding: 10px 20px;
      font-size: 16px;
      min-width: 120px;
      text-align: center;
    }
    .main-content {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 900px;
      min-height: 540px;
      background: rgba(35,43,59,0.98);
      border-radius: 30px;
      box-shadow: 0 8px 32px #0008;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      z-index: 1;
    }
    .tab-content { display: none; width: 100%; height: 100%; }
    .tab-content.active { display: block; }
    /* Roue de la chance */
    .wheel-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      width: 100%;
      padding-top: 30px;
    }
    .wheel-canvas {
      margin: 0 auto;
      display: block;
      background: #232b3b;
      border-radius: 50%;
      box-shadow: 0 4px 24px #0008;
    }
    .wheel-btn {
      margin-top: 30px;
      padding: 18px 42px;
      font-size: 22px;
      background: #3a6ee8;
      color: #fff;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 8px #0006;
      transition: background 0.2s;
    }
    .wheel-btn[disabled] {
      background: #888;
      cursor: not-allowed;
    }
    .wheel-result {
      margin-top: 30px;
      font-size: 20px;
      text-align: center;
      min-height: 40px;
    }
    .wheel-won-skins {
      margin-top: 20px;
      font-size: 16px;
      text-align: center;
      color: #ffe066;
    }
    /* Notification skin gagn√© */
    #wheel-toast {
      position: fixed;
      left: 50%; top: 80px;
      transform: translateX(-50%);
      background: #232b3b;
      color: #fff;
      padding: 18px 38px;
      border-radius: 18px;
      box-shadow: 0 4px 16px #000a;
      font-size: 20px;
      font-weight: bold;
      display: none;
      z-index: 200;
      border: 2px solid #43e86e;
      animation: popin 0.2s;
    }
    @keyframes popin { from { transform: scale(0.7);} to { transform: scale(1);} }
  </style>
</head>
<body>
  <!-- Menu du haut -->
  <div class="menu-bar" id="mainMenuBar">
    <button class="menu-btn active" data-tab="commencer">Commencer</button>
    <button class="menu-btn" data-tab="succes">Succ√®s</button>
    <button class="menu-btn" data-tab="roue">Roue</button>
    <button class="menu-btn" data-tab="tenues">Tenues</button>
    <button class="menu-btn" data-tab="passe">Passe de combat</button>
    <button class="menu-btn" data-tab="boutique">Boutique</button>
  </div>
  <!-- Panneau gauche -->
  <div class="left-panel" id="mainLeftPanel">
    <div class="left-item">üíé Diamants : <span id="diamonds">1500</span></div>
    <div class="left-item">üìú Qu√™tes</div>
    <div class="left-item">üìÖ Calendrier</div>
    <div class="left-item">üèÜ Classement</div>
  </div>
  <!-- Contenu principal -->
  <div class="main-content" id="mainContent">
    <!-- Onglet Commencer -->
    <div class="tab-content active" id="tab-commencer">
      <div style="text-align:center;padding:100px 0;">Page Commencer (voir code pr√©c√©dent)</div>
    </div>
    <!-- Onglet Succ√®s -->
    <div class="tab-content" id="tab-succes">
      <div style="width:100%;text-align:center;padding:30px 0 0 0;">
        <h2>Succ√®s</h2>
        <div class="progress-bar-bg">
          <div class="progress-bar" id="achvProgressBar"></div>
          <div class="progress-label" id="achvProgressLabel"></div>
        </div>
      </div>
      <div class="achievements-list" id="achievementsList"></div>
    </div>
    <!-- Onglet Roue -->
    <div class="tab-content" id="tab-roue">
      <div class="wheel-container">
        <canvas id="wheelCanvas" class="wheel-canvas" width="350" height="350"></canvas>
        <button class="wheel-btn" id="spinBtn">Tourner la roue</button>
        <div class="wheel-result" id="wheelResult"></div>
        <div class="wheel-won-skins" id="wheelWonSkins"></div>
      </div>
    </div>
    <!-- Onglet Tenues -->
    <div class="tab-content" id="tab-tenues">
      <div style="width:100%;text-align:center;padding:60px 0;">
        <h2>Tenues</h2>
        <p>Choisis ton skin pr√©f√©r√© ici ! (√† venir)</p>
      </div>
    </div>
    <!-- Onglet Passe de combat -->
    <div class="tab-content" id="tab-passe">
      <div style="width:100%;text-align:center;padding:60px 0;">
        <h2>Passe de combat</h2>
        <p>D√©bloque des r√©compenses exclusives !</p>
      </div>
    </div>
    <!-- Onglet Boutique -->
    <div class="tab-content" id="tab-boutique">
      <div style="width:100%;text-align:center;padding:60px 0;">
        <h2>Boutique</h2>
        <p>Achetez des objets, skins et plus encore !</p>
      </div>
    </div>
  </div>
  <!-- Notification roue -->
  <div id="wheel-toast"></div>
  <script>
    // --- Onglets : masquer le panneau gauche dans Succ√®s et Roue ---
    const tabs = document.querySelectorAll('.menu-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    tabs.forEach(btn => {
      btn.onclick = () => {
        tabs.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        tabContents.forEach(tc=>tc.classList.remove('active'));
        document.getElementById('tab-'+btn.dataset.tab).classList.add('active');
        // Masquer panneau gauche dans Succ√®s et Roue
        if(btn.dataset.tab==="succes" || btn.dataset.tab==="roue") {
          document.getElementById('mainLeftPanel').style.display = "none";
        } else {
          document.getElementById('mainLeftPanel').style.display = "";
        }
      }
    });

    // --- Roue de la chance ---
    const wheelSkins = [
      {name:"Agent √âlite", color:"#3a6ee8"},
      {name:"Chevalier Noir", color:"#232b3b"},
      {name:"Lapin Fut√©", color:"#e83a3a"},
      {name:"Ninja Rose", color:"#d72660"},
      {name:"Pyjama Party", color:"#ffe066"},
      {name:"Robot Vert", color:"#43e86e"},
      {name:"Samoura√Ø", color:"#b87333"},
      {name:"Vampire", color:"#b80000"}
    ];
    let wonSkins = JSON.parse(localStorage.getItem("wonSkins")||"[]");
    // Cooldown
    function getNextSpinTime() {
      return parseInt(localStorage.getItem("wheelNextSpin")||"0");
    }
    function setNextSpinTime(ts) {
      localStorage.setItem("wheelNextSpin",ts+"");
    }
    function saveWonSkins() {
      localStorage.setItem("wonSkins",JSON.stringify(wonSkins));
    }
    function updateWheelWonSkins() {
      const el = document.getElementById('wheelWonSkins');
      if(wonSkins.length===0
