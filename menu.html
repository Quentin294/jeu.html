<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Menu principal</title>
  <style>
    body {margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,#222 60%,#3a6ee8 100%);color:#fff;min-height:100vh;}
    .menu-bar {position:absolute;top:20px;left:50%;transform:translateX(-50%);display:flex;gap:40px;z-index:2;}
    .menu-btn {background:rgba(30,30,30,0.8);border:none;color:#fff;padding:14px 28px;border-radius:12px;font-size:18px;cursor:pointer;transition:background 0.2s;}
    .menu-btn.active,.menu-btn:hover {background:#3a6ee8;}
    .left-panel {position:absolute;left:30px;top:120px;display:flex;flex-direction:column;gap:20px;z-index:2;}
    .left-item {background:rgba(40,40,40,0.85);border-radius:10px;padding:10px 20px;font-size:16px;min-width:120px;text-align:center;cursor:pointer;transition:background 0.2s;}
    .left-item:hover {background:#3a6ee8;}
    .main-content {position:absolute;top:100px;left:50%;transform:translateX(-50%);width:900px;min-height:540px;background:rgba(35,43,59,0.98);border-radius:30px;box-shadow:0 8px 32px #0008;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:1;}
    .center-skin {display:flex;flex-direction:column;align-items:center;width:100%;}
    .skin-img {width:320px;height:400px;background:#444;border-radius:30px;margin-bottom:20px;box-shadow:0 8px 32px #0008;background-size:cover;background-position:center;cursor:pointer;}
    .skin-name {font-size:24px;font-weight:bold;letter-spacing:2px;text-shadow:0 2px 8px #000a;}
    .start-panel {position:absolute;bottom:40px;right:40px;z-index:2;}
    .start-btn {background:#3a6ee8;color:#fff;border:none;border-radius:18px;font-size:24px;padding:22px 48px;font-weight:bold;box-shadow:0 4px 16px #0006;cursor:pointer;transition:background 0.2s;}
    .start-btn:hover {background:#254a9c;}
    .modal-bg {display:none;position:fixed;z-index:100;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,0.7);align-items:center;justify-content:center;}
    .modal-bg.active {display:flex;}
    .modal {background:#232b3b;border-radius:24px;box-shadow:0 8px 32px #000b;padding:40px 32px 32px 32px;min-width:320px;text-align:center;position:relative;animation:popin 0.2s;}
    @keyframes popin {from{transform:scale(0.7);}to{transform:scale(1);}}
    .modal-title {font-size:28px;font-weight:bold;margin-bottom:28px;letter-spacing:1px;}
    .mode-btn,.modal-btn {display:block;width:100%;margin:16px 0;padding:18px 0;font-size:22px;font-weight:bold;border:none;border-radius:12px;background:#3a6ee8;color:#fff;cursor:pointer;transition:background 0.15s;}
    .mode-btn:hover,.modal-btn:hover {background:#254a9c;}
    .close-modal {position:absolute;top:12px;right:18px;background:none;border:none;color:#fff;font-size:28px;cursor:pointer;opacity:0.7;transition:opacity 0.15s;}
    .close-modal:hover {opacity:1;}
    .btn-plus {margin-left:6px;padding:0 8px;background:#ffe066;color:#232b3b;border:none;border-radius:50%;font-size:20px;font-weight:bold;cursor:pointer;line-height:1.2;}
    .btn-plus:hover {background:#fff3a0;}
    .modes-arrow-btn {
      background:none;border:none;font-size:32px;cursor:pointer;color:#ffe066;margin-top:10px;
      transition:color 0.2s;
    }
    .modes-arrow-btn:hover {color:#fff;}
    /* Onglet March√© Noir */
    .marche-noir-tab {
      position: fixed;
      top: 180px;
      right: 0;
      width: 50px;
      height: 180px;
      background: #222;
      color: #ffe066;
      writing-mode: vertical-rl;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      border-radius: 16px 0 0 16px;
      box-shadow: 0 2px 12px #0007;
      cursor: pointer;
      z-index: 200;
      transition: background 0.2s;
      display: none;
    }
    .marche-noir-tab:hover {
      background: #3a6ee8;
      color: #fff;
    }
    @media (max-width: 700px) {
      .main-content {width:100vw;min-height:400px;}
      .skin-img {width:120px;height:140px;}
      .modal {padding:18px 6px 22px 6px;}
      .modal-title {font-size:18px;}
      .mode-btn {font-size:16px;padding:12px 0;}
      .marche-noir-tab {height:100px;font-size:14px;}
    }
  </style>
</head>
<body>
  <div class="menu-bar" id="mainMenuBar">
    <button class="menu-btn active" id="btnCommencer">Commencer</button>
    <button class="menu-btn" onclick="window.location.href='succes.html'">Succ√®s</button>
    <button class="menu-btn" onclick="window.location.href='roue.html'">Roue</button>
    <button class="menu-btn" onclick="window.location.href='tenues.html'">Tenues</button>
    <button class="menu-btn" onclick="window.location.href='passe.html'">Passe de combat</button>
    <button class="menu-btn" onclick="window.location.href='boutique.html'">Boutique</button>
  </div>
  <div class="left-panel" id="mainLeftPanel">
    <div class="left-item" style="display:flex;align-items:center;gap:8px;">
      üíé Diamants : <span id="diamonds">0</span>
      <button id="diamondsPlus" class="btn-plus" title="Acheter des diamants">+</button>
    </div>
    <div class="left-item" onclick="window.location.href='quetes.html'">üìú Qu√™tes</div>
    <div class="left-item" onclick="window.location.href='calendrier.html'">üìÖ Calendrier</div>
    <div class="left-item" onclick="window.location.href='classement.html'">üèÜ Classement</div>
    <div class="left-item" onclick="window.location.href='evenement.html'">üéâ √âv√©nement</div>
    <div class="left-item" onclick="window.location.href='guilde.html'">üëë Guilde</div>
    <div class="left-item" onclick="window.location.href='amis.html'">ü§ù Amis</div>
    <div class="left-item" onclick="window.location.href='carte.html'">üó∫Ô∏è Carte</div>
     <a href="echange.html"><button class="menu-button">√âchange</button></a>
     <a href="football.html"><button class="menu-button">prono foot</button></a>
  </div>
  <div class="center-skin" id="skinPanel">
    <div class="skin-img" id="skinImg"></div>
    <div class="skin-name" id="skinName">Skin Actuel</div>
  </div>
  <div class="start-panel" id="startPanel">
    <button class="start-btn" id="openModalBtn">COMMENCER</button>
  </div>
  <!-- Onglet March√© Noir -->
  <div class="marche-noir-tab" id="marcheNoirTab" onclick="window.location.href='marche_noir.html'">
    March√© Noir
  </div>
  <!-- Modal Choix du mode avec pagination -->
  <div class="modal-bg" id="modalBg">
    <div class="modal">
      <button class="close-modal" id="closeModalBtn" title="Fermer">&times;</button>
      <div class="modal-title">Choisis ton mode</div>
      <!-- Page 1 -->
      <div id="modesPage1">
        <button class="mode-btn" onclick="window.location.href='classique.html'">Classique</button>
        <button class="mode-btn" onclick="window.location.href='chrono.html'">Chrono</button>
        <button class="mode-btn" onclick="window.location.href='infini.html'">Infini</button>
        <button class="mode-btn" onclick="window.location.href='baseball.html'">Baseball</button>
        <button class="mode-btn" onclick="window.location.href='course.html'">Course</button>
        <div style="width:100%;text-align:center;">
          <button id="nextModesBtn" class="modes-arrow-btn" title="Page suivante">‚û°Ô∏è</button>
        </div>
      </div>
      <!-- Page 2 -->
      <div id="modesPage2" style="display:none;">
        <button class="mode-btn" onclick="window.location.href='beatclash.html'">Beatclash</button>
        <button class="mode-btn" onclick="window.location.href='NWP.html'">NWP</button>
        <button class="mode-btn" onclick="window.location.href='super hearth command.html'">SHC</button>
        <button class="mode-btn" onclick="window.location.href='wasteland survival.html'">wasteland survival</button>
        <button class="mode-btn" onclick="window.location.href='crime city rush.html'">CCR</button>
        <div style="width:100%;text-align:center;">
          <button id="prevModesBtn" class="modes-arrow-btn" title="Page pr√©c√©dente">‚¨ÖÔ∏è</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Affichage dynamique des diamants
    function updateDiamonds() {
      let d = parseInt(localStorage.getItem("diamonds")||"0");
      document.getElementById('diamonds').textContent = d;
    }
    updateDiamonds();
    window.addEventListener('storage', function(event) {
      if(event.key === "diamonds") updateDiamonds();
    });

    // Bouton "+" pour acheter des diamants
    document.getElementById('diamondsPlus').onclick = function() {
      localStorage.setItem("goToDiamondsOffer", "1");
      window.location.href = "boutique.html";
    };

    // Modal Commencer + pagination modes
    document.addEventListener("DOMContentLoaded", function() {
      var openModalBtn = document.getElementById('openModalBtn');
      var modalBg = document.getElementById('modalBg');
      var closeModalBtn = document.getElementById('closeModalBtn');
      if(openModalBtn && modalBg && closeModalBtn) {
        openModalBtn.onclick = function() {
          modalBg.classList.add('active');
        };
        closeModalBtn.onclick = function() {
          modalBg.classList.remove('active');
        };
        modalBg.onclick = function(e) {
          if (e.target === modalBg) modalBg.classList.remove('active');
        };
      }
      // Pagination modes
      var nextBtn = document.getElementById('nextModesBtn');
      var prevBtn = document.getElementById('prevModesBtn');
      var page1 = document.getElementById('modesPage1');
      var page2 = document.getElementById('modesPage2');
      if(nextBtn && prevBtn && page1 && page2) {
        nextBtn.onclick = function() {
          page1.style.display = "none";
          page2.style.display = "";
        };
        prevBtn.onclick = function() {
          page2.style.display = "none";
          page1.style.display = "";
        };
      }

      // Affichage de l'onglet March√© Noir
      var marcheNoirTab = document.getElementById('marcheNoirTab');
      var playerLevel = parseInt(localStorage.getItem("playerLevel") || "0");
      var isCreator = localStorage.getItem("isCreator") === "1";
      if (playerLevel >= 500 || isCreator) {
        marcheNoirTab.style.display = "block";
      } else {
        marcheNoirTab.style.display = "none";
      }
    });

    // Skin d'accueil (placeholder, √† adapter selon ton syst√®me)
    const skinImages = {
      "Agent √âlite": "https://static.wikia.nocookie.net/fortnite_gamepedia/images/3/3e/Outfit_Default_-_Style_1.png"
    };
    function updateCommencerSkin() {
      const skin = localStorage.getItem("selectedSkin") || "Agent √âlite";
      document.getElementById('skinImg').style.backgroundImage = `url('${skinImages[skin] || skinImages["Agent √âlite"]}')`;
      document.getElementById('skinName').textContent = skin;
    }
    updateCommencerSkin();
    window.addEventListener('storage', function(event) {
      if(event.key === "selectedSkin") updateCommencerSkin();
    });
  </script>
</body>
</html>
